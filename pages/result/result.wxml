<navigation-bar 
  title="识别结果" 
  back="{{true}}" 
  color="black" 
  background="#FFF">
</navigation-bar>

<view class="container">
  <!-- 图片预览区域 -->
  <view class="image-preview">
    <swiper 
      class="swiper" 
      current="{{currentImageIndex}}"
      bindchange="onSwiperChange">
      <swiper-item wx:for="{{images}}" wx:key="index">
        <image 
          class="preview-image" 
          src="{{item}}" 
          mode="aspectFit"
          bindtap="previewImage"
          data-index="{{index}}"
        ></image>
      </swiper-item>
    </swiper>
    <view class="image-counter" wx:if="{{images.length > 1}}">
      {{currentImageIndex + 1}}/{{images.length}}
    </view>
  </view>

  <!-- 识别结果区域 -->
  <view class="result-container">
    <view class="result-header">
      <text class="title">识别结果</text>
      <view class="actions">
        <view class="action-btn" bindtap="onShare">
          <image class="action-icon" src="/assets/icons/share-line.svg"></image>
        </view>
        <view class="action-btn" bindtap="onFavorite">
          <image class="action-icon" src="{{isFavorite ? '/assets/icons/star-fill.svg' : '/assets/icons/star-line.svg'}}"></image>
        </view>
      </view>
    </view>

    <view class="result-content">
      <view class="processing-info">
        <text class="time">处理时间: {{processingTime}}s</text>
        <text class="timestamp">{{timestamp}}</text>
      </view>
      
      <view class="category-list">
        <!-- 凉菜 -->
        <view class="category-section" wx:if="{{categories['1'].length > 0}}">
          <view class="category-title">凉菜</view>
          <view class="dish-list">
            <view class="dish-item" wx:for="{{categories['1']}}" wx:key="index">
              <view class="dish-name">{{item[0]}}</view>
              <view class="dish-desc">{{item[1]}}</view>
              <view class="dish-price">¥{{item[2]}}</view>
              <view class="dish-rating">评分: {{item[3]}}</view>
              <view class="dish-recommend">{{item[4]}}</view>
            </view>
          </view>
        </view>
        
        <!-- 热菜和汤 -->
        <view class="category-section" wx:if="{{categories['2'].length > 0}}">
          <view class="category-title">热菜和汤</view>
          <view class="dish-list">
            <view class="dish-item" wx:for="{{categories['2']}}" wx:key="index">
              <view class="dish-name">{{item[0]}}</view>
              <view class="dish-desc">{{item[1]}}</view>
              <view class="dish-price">¥{{item[2]}}</view>
              <view class="dish-rating">评分: {{item[3]}}</view>
              <view class="dish-recommend">{{item[4]}}</view>
            </view>
          </view>
        </view>
        
        <!-- 其他分类同理... -->
      </view>
    </view>
  </view>
</view> 